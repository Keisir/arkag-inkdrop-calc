{"version":3,"file":"index.js","sources":["../src/react-calc.js","../src/index.js"],"sourcesContent":["import React from \"react\";\nimport MathJS from \"mathjs\";\n\nconst CalcComponent = (props) => {\n  const showPositives = true; // currently a const value - you will need to change this and get this value from somewhere maybe the settings? https://developers.inkdrop.app/modules/config\n  let result;\n  if (!props.children || !props.children[0]) {\n    return <></>;\n  }\n  try {\n    result = MathJS.evaluate(props.children[0]);\n  } catch (e) {\n    return <span>Invalid inline math expression</span>;\n  }\n  return (\n    <span>\n      {(result.entries < 0 && showPositives ? \"\" : \"+\") +\n        result.entries}\n    </span>\n  );\n};\n\nexport default CalcComponent;\n","import { markdownRenderer } from \"inkdrop\";\nimport CalcComponent from \"./react-calc\";\n// import { remarkCalc2Code } from './remark-calc-to-code' // --> as written in this file - you will need to create a parser for inline calc\n\nmodule.exports = {\n  activate() {\n    if (markdownRenderer) {\n      markdownRenderer.remarkCodeComponents[\"calc\"] = CalcComponent;\n    }\n  },\n\n  deactivate() {\n    if (markdownRenderer) {\n      markdownRenderer.remarkCodeComponents[\"calc\"] = undefined;\n    }\n  },\n};\n"],"names":["CalcComponent","props","showPositives","result","children","React","createElement","Fragment","MathJS","evaluate","e","entries","module","exports","activate","markdownRenderer","remarkCodeComponents","deactivate","undefined"],"mappings":";;;;;;AAGA,MAAMA,aAAa,GAAIC,KAAK,IAAK;AAC/B,EAAA,MAAMC,aAAa,GAAG,IAAI,CAAC;AAC3B,EAAA,IAAIC,MAAM,CAAA;AACV,EAAA,IAAI,CAACF,KAAK,CAACG,QAAQ,IAAI,CAACH,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC,EAAE;IACzC,oBAAOC,KAAA,CAAAC,aAAA,CAAAD,KAAA,CAAAE,QAAA,MAAI,CAAC,CAAA;AACd,GAAA;EACA,IAAI;IACFJ,MAAM,GAAGK,MAAM,CAACC,QAAQ,CAACR,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA;GAC5C,CAAC,OAAOM,CAAC,EAAE;AACV,IAAA,oBAAOL,KAAA,CAAAC,aAAA,CAAA,MAAA,EAAA,IAAA,EAAM,gCAAoC,CAAC,CAAA;AACpD,GAAA;EACA,oBACED,KAAA,CAAAC,aAAA,CAAA,MAAA,EAAA,IAAA,EACG,CAACH,MAAM,CAACQ,OAAO,GAAG,CAAC,IAAIT,aAAa,GAAG,EAAE,GAAG,GAAG,IAC9CC,MAAM,CAACQ,OACL,CAAC,CAAA;AAEX,CAAC;;AClBD;;AAEAC,MAAM,CAACC,OAAO,GAAG;AACfC,EAAAA,QAAQA,GAAG;AACT,IAAA,IAAIC,wBAAgB,EAAE;AACpBA,MAAAA,wBAAgB,CAACC,oBAAoB,CAAC,MAAM,CAAC,GAAGhB,aAAa,CAAA;AAC/D,KAAA;GACD;AAEDiB,EAAAA,UAAUA,GAAG;AACX,IAAA,IAAIF,wBAAgB,EAAE;AACpBA,MAAAA,wBAAgB,CAACC,oBAAoB,CAAC,MAAM,CAAC,GAAGE,SAAS,CAAA;AAC3D,KAAA;AACF,GAAA;AACF,CAAC;;"}